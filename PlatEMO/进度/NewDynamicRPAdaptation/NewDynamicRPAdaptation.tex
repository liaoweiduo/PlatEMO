\documentclass[conference]{IEEEtran}

\IEEEoverridecommandlockouts


\makeatletter
\renewcommand\footnoterule{%
  \kern-3\p@
  \hrule\@width.4\columnwidth
  \kern2.6\p@}
\makeatother
  
\usepackage{graphicx}
\graphicspath{{fig/}}
\DeclareGraphicsExtensions{.eps,.pdf,.jpeg,.png}

\usepackage[misc]{ifsym}
\usepackage{multirow,booktabs,color,soul,threeparttable}
%\usepackage[ruled,vlined]{algorithm2e}
\usepackage[ruled,linesnumbered]{algorithm2e}
\usepackage{amsmath,bm,setspace}
\interdisplaylinepenalty=2500
\usepackage{amsfonts}
\definecolor{hl}{rgb}{0.75,0.75,0.75}
\sethlcolor{hl}
\usepackage{algorithmic}
\renewcommand{\algorithmicrequire}{ \textbf{Input:}} %Use Input in the format of Algorithm
\renewcommand{\algorithmicensure}{ \textbf{Output:}} %UseOutput in the format of Algorithm
\usepackage{caption}
\captionsetup{font={footnotesize}}
\usepackage{subfig}
\usepackage{afterpage}
\usepackage{array}
\usepackage{stfloats}
\fnbelowfloat
\usepackage{url}
\usepackage{cite}
\def\tablename{Table}

\usepackage[keeplastbox]{flushend}

\newcommand{\semitextbf}[1]{%
	\pdfliteral direct {2 Tr 0.3 w} %the second factor is the boldness
	#1%
	\pdfliteral direct {0 Tr 0 w}%
}

%\def\Plus{\texttt{+}}
\newcommand{\Plus}{\raisebox{.4\height}{\scalebox{.6}{+}}}
% correct bad hyphenation here
\hyphenation{op-tical net-works semi-conduc-tor}

\renewcommand\IEEEkeywordsname{Keywords}

\begin{document}

\title{Weak Convergence Detection-based Dynamic Reference Point Specification in SMS-EMOA}

%\author{\IEEEauthorblockN{Linjun He\IEEEauthorrefmark{1},
%Auraham Camacho\IEEEauthorrefmark{2} and
%Hisao Ishibuchi\IEEEauthorrefmark{1}$\textsuperscript{(\Letter)}$}
%\IEEEauthorblockA{\IEEEauthorrefmark{1}School of Electrical and Computer Engineering\\
%Southern University of Science and Technology, Shenzhen, China\\
%Email: helj@mail.sustech.edu.cn, hisao@sustech.edu.cn}
%\and
%\IEEEauthorblockA{\IEEEauthorrefmark{2}CINVESTAV, Tamaulipas, Mexico\\
%Email: acamacho@tamps.cinvestav.mx}}

% use for special paper notices
%\IEEEspecialpapernotice{(Invited Paper)}

\author{\IEEEauthorblockN{Weiduo Liao, Ke Shang, Lie Meng Pang, Hisao Ishibuchi} %$\textsuperscript{(\Letter)}$
\IEEEauthorblockA{
  Shenzhen Key Laboratory of Computational Intelligence, \\
  University Key Laboratory of Evolving Intelligent Systems of Guangdong Province, \\
  Department of Computer Science and Engineering, \\
  Southern University of Science and Technology (SUSTech), Shenzhen, China \\
  Email: 11849249@mail.sustech.edu.cn; kshang@foxmail.com; panglm@sustech.edu.cn; hisao@sustech.edu.cn}
% \and
% \IEEEauthorblockN{Ke Shang}
% \IEEEauthorblockA{Department of Computer Science\\ and Engineering\\
% Southern University of Science\\ and Technology\\ Shenzhen, China\\
% Email: kshang@foxmail.com}
% \and
% \IEEEauthorblockN{Hisao Ishibuchi}
% \IEEEauthorblockA{Department of Computer Science\\ and Engineering\\
% Southern University of Science\\ and Technology\\ Shenzhen, China\\
% Email: hisao@sustech.edu.cn}
}


% make the title area
\maketitle

% As a general rule, do not put math, special symbols or citations
% in the abstract
\begin{abstract}
% In the field of indicator-based evolutionary multi-objective optimization algorithms(indicator-based EMOAs), 
% Hypervolume(HV) is a popular indicator, which is the only pareto-compliant indicator up to now. 
% But recently, a paper shows that the position of reference point will influence the diversity of the final solutions of
% HV-based EMOAs when applying to the inverted-triangular Pareto front problems, 
% by influencing the HV contribution of the external solutions. 
% In this paper, we state this phenomenon and introduce the reference point specification with the dynamic mechanism in terms of necessity. 
% Then we propose a new dynamic mechanism based on weak convergence detection. 
% In our approach, the simple Least Squares and the information of nadir point are used to detect the convergence. 
% After that, we examine the difference between this new dynamic mechanism with a state-of-the-art linearly decrease mechanism. 

In the evolutionary multi-objective optimization (EMO) field, 
the hypervolume (HV) indicator is one of the most popular performance indicators. 
It is not only used for performance evaluation of EMO algorithms (EMOAs) 
but also adopted in EMOAs for selection (e.g., SMS-EMOA). 
The specification of a reference point for HV calculation has a large effect on the performance of SMS-EMOA. 
Thus, the reference point specification should be carefully treated in SMS-EMOA. 
In this paper, the importance of the dynamic reference point specification in SMS-EMOA is explained first. 
Then a new dynamic reference point specification mechanism, which is based on weak convergence detection is introduced for SMS-EMOA. 
Experimental comparisons are conducted for different specification methods in SMS-EMOA:  
a linearly decreasing mechanism and two static mechanisms. 
Our results demonstrate the effectiveness of the proposed dynamic reference point specification mechanism.
\end{abstract}

\begin{IEEEkeywords}
Reference point specification; SMS-EMOA; hypervolume; evolutionary multi-objective optimization; 
dynamic mechanism; convergence detection
\end{IEEEkeywords}
    
\let\thefootnote\relax\footnotetext{
  This work was supported by National Natural Science Foundation of China (Grant No. 61876075), the Program for Guangdong Introducing Innovative and Enterpreneurial Teams (Grant No. 2017ZT07X386), Shenzhen Peacock Plan (Grant No. KQTD2016112514355531), the Science and Technology Innovation Committee Foundation of Shenzhen (Grant No. ZDSYS201703031748284), and the Program for University Key Laboratory of Guangdong Province (Grant No. 2017KSYS008).
  Corresponding Author: Hisao Ishibuchi (hisao@sustc.edu.cn)
}
% For peer review papers, you can put extra information on the cover
% page as needed:
% \ifCLASSOPTIONpeerreview
% \begin{center} \bfseries EDICS Category: 3-BBND \end{center}
% \fi
%
% For perreview papers, this IEEEtran command inserts a page break and
% creates the second title. It will be ignored for other modes.
\IEEEpeerreviewmaketitle

% -------------------------------------- main part ---------------------------------------
% 背景介绍：
% 在indicator based 算法里，HV作为唯一的compliant indicator被广泛使用
% SMSEMOA是最简单的一种indicator based 算法   μ+1机制
% FVEMOA是SMSEMOA的一种优化 速度更快 用了 μ+m机制
% reference point要slightly larger then 1+1/H at beginning then decrease to 1+1/H，  
% hisao的paper with linearly decrease mechanism: 
% [1] H. Ishibuchi, R. Imada, N. Masuyama and Y. Nojima. 
% Dynamic Specification of a Reference Point for Hypervolume Calculation in SMS-EMOA[J].
% Proc. of 2018 IEEE Congress on Evolutionary Computation (IEEE CEC 2018)
% 介绍我的 new mechanism：weak convergence detection decrease
% 一篇paper介绍一种robust and efficient的convergence detection criterion
% Introducing a Robust and Efficient Stopping Criterion for MOEAs
% 但是对象是针对indicator的，而我们的算法运行中计算的indicator 
% 每一代的evaluation不一样，没有可比性
% 补充一张记录每次evaluation时以当时estimated的reference point为based 的hv值的图，
% 表示没有可比性(用FVEMOA的)
% 于是我想到了用nadir point的mean来当indicator，表示是否接近pareto front
% 实验图 mean of ln(nadir point)和它的bsf 与hv的变化曲线基本一致
%（hv斜率变0的时候 这个新indicator的斜率也差不多变成0）
% 介绍一个windows 和 windows内的简单线性回归。 
% 因为会有恶化和停滞现象 所以window size要设置的大一点，
% 经过实验用4000次evaluation作为window size不错
% 然后画b的图，给出经过实验 threshold选10^-5不错。
% 实验
% 4种problems要一句话介绍
% 
\section{Introduction}
In the field of Evolutionary Multi-objective Optimization (EMO) Algorithms, 
one active research issue is the development of performance indicators. 
Over the years, various indicators have been proposed. 
These indicators include hypervolume (HV)\cite{hypervolume}, 
R2\cite{R2}, $\epsilon_+$ indicator\cite{e+}, IGD\cite{IGD}, etc.
They are designed for different purposes. 
Each of them has its own advantages and disadvantages.
Different from IGD, 
HV does not need the pre-knowledge of the shape of the Pareto front (PF). 
HV is also the only Pareto-compliant indicator up to now\cite{pareto_compliant}. 
However, due to the heavy computation load of HV computation\cite{hypervolume:computationLoad}, 
the HV-based algorithms are inefficient when dealing with Many-Objective Optimization Problems (MaOPs) which have more than three objectives. 

SMS-EMOA\cite{smsemoa} is a classical HV-based algorithm. 
The HV contribution is used to determine which solution to be discarded in the population. 
To reduce the heavy computation load of HV computation, 
many new methods have been proposed to estimate HV. 
For example, HypE uses a Monte Carlo simulation technique to estimate HV\cite{HypE}; 
the R2 indicator estimates HV using a standard weighted Tchebycheff function\cite{R2}; 
an improved new R2 indicator is proposed by Shang et al.\cite{newR2} to approximate HV.  
A simple and fast version of SMS-EMOA, called FV-MOEA\cite{FVEMOA}, has been proposed to further increase the efficiency.
FV-MOEA utilizes the fact that 
the HV contribution of a solution is only determined by partial solutions rather than the whole solution set\cite{FVEMOA}. 
Recently, an improved SMS-EMOA with adaptive resource allocation has been proposed to reduce the number of HV calculations\cite{ismsemoa}. 
% Based on this point, FV-MOEA reduces the computational load greatly. 

The specification of a reference point is an important issue in HV computation. 
However, its importance has not been discussed in many studies. 
% It is because that the effect on many test problems (e.g., DTLZ\cite{DTLZ}) are not so significant. 
Recently, it has been reported that the position of the reference point strongly influences the optimal distribution of solutions 
for HV maximization in the case of on inverted-triangular Pareto fronts\cite{hisao:RPhowtoSpecify, hisao:RPspecify, hisao:RPexplanation}. 
A reference point specification method has been proposed in \cite{hisao:RPhowtoSpecify} for fair HV computation.
% A suitable set of reference point position for linear PFs has been sufficiently investigated in\cite{hisao:RPspecify}.
A dynamic reference point specification mechanism has been proposed in\cite{hisao:dynamic}.
Another proposed strategy is to use two reference points in HV-based EMOAs\cite{hisao:twoRP}. 

In this paper, we analyze the reference point specification during the execution of HV-based EMOAs.
At the early stage of multi-objective evolution, 
the reference point should be set far away from the estimated nadir point to enhance the diversity of solutions. 
In the final stage of multi-objective evolution, 
the reference point should be specified properly to obtain uniformly distributed solutions over the entire Pareto front.

Based on our analysis, we propose a new dynamic reference point specification mechanism based on weak convergence detection in SMS-EMOA. 
In our weak convergence detection mechanism, we use the logarithm nadir point as a convergence indicator
and use the Simple Least Squares\cite{SimpleLeastSquares} to detect the convergence. 
% Given $w\_l$ generations as a window, if the slope of linear regression is below one threshold, we report the convergence.
We report comparison results of the proposed approach with the existing linearly decreasing method and 
the simple reference point specification method in the experiment section. 
On some test problems (e.g., Distance Minimization Problems\cite{dmp}), 
our weak convergence detection mechanism outperforms the linearly decreasing mechanism. 

The remainder of this paper is organized as follows. 
Section II explains the original reference point specification in SMS-EMOA and the one proposed in \cite{hisao:RPhowtoSpecify}. 
% we briefly introduce the basic idea of reference point specification by a simple example in Section II. 
Then, we examine the reference point specification in two stages of multi-objective evolution by SMS-EMOA, 
which clearly demonstrates the necessity of using the dynamic reference point specification mechanism. 
In Section III, after explaining the existing linearly decreasing method of the reference point, we propose a dynamic reference point
specification method. 
Experimental results by SMS-EMOA with different reference point specification mechanisms 
on ten-objective triangular and inverted-triangular problems are reported in Section IV. 
Finally, Section V concludes this paper. 

% --------------------------- reference point specification in HV-based EMOA ---------------------
% reference point不应该只在刚开始设置而后面都不变，这样如果问题的feasible region很大的时候，初始设置的
% reference point就会离PF很远（画图一个很大的feasible region和PF和reference point）
% 这样的话 在某些问题（倒三角）最后分布在PF上的解 边缘上的解分布很密集【hisao paper】【倒三角图，r很大】
% 因此 necessity of a good reference point specification during the progress of algorithm
%
% 在很多算法中 include SMSEMOA
% The reference point is specified by the following common-use role:
% estimated reference point = r × estimated nadir point, r = 1.1, 
% the estimated nadir point is the vector consists of every maximization objective values of all
% solutions in current population.【图】
%
\section{Reference Point Specification in SMS-EMOA}
When HV is used in SMS-EMOA, 
one important issue is how to specify a reference point.
Before calculating the HV value, the reference point needs to be specified.
However, we cannot specify the fixed reference point using the initial population. 
A reference point suitable for the initial population is likely to be too far away 
for the final population as explained in Fig. \ref{rpa1}. 

\begin{figure}[!t]
  \centering
  \subfloat[An initial generation.]{\label{rpa1:a}
    \includegraphics[width=1.5in]{rpa1_1}}\quad
  \subfloat[A final generation.]{\label{rpa1:b}
  \includegraphics[width=1.5in]{rpa1_2}}\\
  \caption{A reference point $\boldsymbol R$ is suitable for the initial population in (a) 
  but too far away from the final population in (b).
  The gray region shows the feasible region and the red arc is the corresponding Pareto front.}
  \label{rpa1}
\end{figure}

In Fig. \ref{rpa2}, we show some examples of obtained solution sets by SMS-EMOA. 
When a fixed reference point is far away from the Pareto front, 
all solutions are on the sides of the Pareto front when SMS-EMOA is 
applied to the three-objective inverted DTLZ1 problem \cite{invertedDTLZ1} in Fig. \ref{rpa2} (a). 
By appropriately specifying the reference point at each generation 
(e.g., by Eq. (\ref{frpa1}) shown later in this section), 
we can obtain a well-distributed solution set as in Fig. \ref{rpa2} (b). 
When the Pareto front is triangular, 
the specification of the reference point does not have a large effect 
on the finally obtained solution set as shown in Fig. \ref{rpa2} (c) and (d) for the three-objective DTLZ1 problem. 
For further discussions on the effect of the reference point specification 
on the distribution of solutions for HV maximization, see \cite{hisao:RPexplanation, hisao:RPspecify, hisao:dynamic}.

\begin{figure}[!t]
  \centering
  \subfloat[Fixed far reference point.]{\label{rpa2:a}
    \includegraphics[width=1.5in]{FVEMOA_fixrp_IDTLZ1_evaluation20000_r1__1}}\quad
  \subfloat[Reference point by Eq. (\ref{frpa1}).]{\label{rpa2:b}
    \includegraphics[width=1.5in]{FVEMOA_IDTLZ1_evaluation20000_r1__1}}\\
  \subfloat[Fixed far reference point.]{\label{rpa2:c}
    \includegraphics[width=1.5in]{FVEMOA_fixrp_DTLZ1_evaluation20000_r1__1}}\quad
  \subfloat[Reference point by Eq. (\ref{frpa1}).]{\label{rpa2:d}
    \includegraphics[width=1.5in]{FVEMOA_DTLZ1_evaluation20000_r1__1}}\\
  \caption{Obtained solution sets by SMS-EMOA with the population size 100 after 20,000 solution evaluations.
  % (a) and (c): the reference point is calculated only once at the initial step;
  % (b) and (d): the reference point is specified by Eq. (\ref{frpa1}) with $r=1.1$.
  }
  \label{rpa2}
\end{figure}

\subsection{Original Reference Point Specification}
In the original paper of SMS-EMOA\cite{smsemoa}, 
the reference point is specified as the estimated nadir point increased by 1.0
(in the two-objective case, a sufficiently large reference point is chosen). 
% And in \cite{hisao:dynamic}, the reference point is set as $(r, r, \dots, r)$ in the normalized objective space. 
However in the current implementation of SMS-EMOA in PlatEMO\cite{PlatEMO}, the reference point is specified as:
\begin{equation}\label{frpa1}
  \boldsymbol R = r \cdot \boldsymbol N,  
\end{equation}
where $\boldsymbol R \in \mathbb{R}^m$ is the reference point in each generation, 
and $\boldsymbol N \in \mathbb{R}^m$ is the estimated nadir point of the last front from the current population. 
$r$ is specified as 1.1 in PlatEMO. 
% The specification of the reference point is also one of the important parts in the HV-based algorithm implementation.
In the source code of PlatEMO, the values of $r$ in HV-based algorithms are specified as follows: 
1.1 (SMS-EMOA\cite{smsemoa}) and 1.2 (HypE\cite{HypE}). % and 10 (FV-EMOA\cite{FVEMOA}). 
In SMS-EMOA,  
the HV contribution is used to evaluate each solution. 
We specify the reference point for HV calculation by  Eq. (\ref{frpa1}) in this paper.

However, fixing the $r$ value to 1.1 is not recommended, especially for problems with inverted-triangular Pareto fronts
\cite{hisao:RPhowtoSpecify}. 
The research on specifying the value of $r$ is limited.
This is because the location of the reference point does not have a large effect on the calculation of HV contribution 
when HV-based algorithms are applied to test problems with triangular Pareto fronts. 

% --------------- reference point specification for optimal distribution ----------------
% 在hisao的paper中指出r = 1+1/H 在一些问题中（平的PF问题）是最优的设置（画出二维三维图for example），
% 提一句 本文主要的研究问题就是平的PF问题
% 即在算法的最后final stage，所有solution都在PF上，r应该设置成1+1/H。
%
\subsection{Reference Point Specification Proposed in \cite{hisao:RPhowtoSpecify}}
In \cite{hisao:RPexplanation, hisao:RPhowtoSpecify, hisao:RPspecify}, 
an appropriate value of $r$ was suggested from a viewpoint of fair HV-based performance comparison of EMO algorithms. 
The suggested $r$ is: 
\begin{equation}\label{eod}
  r=1+\frac{1}{H},
\end{equation}
where $H$ is a parameter used in MOEA/D\cite{MOEAD} for 
% $H$ is the number of solutions intervals in 2-dimension 
% and the number of intervals on each boundary of PF in many-dimension. 
% The idea is inspired by MOEA/D\cite{MOEAD}, in which the $H$ is used for 
generating uniformly distributed weight vectors\cite{hisao:dynamic}. 
Given the population size $\mu$ and the number of objectives $m$, the value of $H$ can be calculated as follows:
\begin{equation}
  C^{H+m-1}_{m-1} \leq \mu < C^{H+m}_{m-1}.
\end{equation}
In Fig. \ref{dm1} (a), $r=13/12 (H=12)$ is the suggested setting in \cite{hisao:RPhowtoSpecify} for inverted-DTLZ1 with $\mu = 91$ and $m = 3$.
Well-distributed solutions are obtained in Fig. \ref{dm1} (a). 
In Fig. \ref{dm1} (b)-(d), the increase of $r$ 
(i.e., the increase of the distance between the estimated nadir point and the reference point) 
increases the number of solutions on the sides of the inverted triangular Pareto front.

\begin{figure}[!t]
  \centering
  \subfloat[$r=13/12$ (Suggested \cite{hisao:RPhowtoSpecify}).]{\label{dm1:a}
    \includegraphics[width=1.5in]{FVEMOA_IDTLZ1_evaluation10000_r13_12_N91}}\quad
  \subfloat[$r=1.5.$]{\label{dm1:b}
    \includegraphics[width=1.5in]{FVEMOA_IDTLZ1_evaluation10000_r1__5_N91}}\\
  \subfloat[$r=2.$]{\label{dm1:c}
    \includegraphics[width=1.5in]{FVEMOA_IDTLZ1_evaluation10000_r2_N91}}\quad
  \subfloat[$r=5.$]{\label{dm1:d}
    \includegraphics[width=1.5in]{FVEMOA_IDTLZ1_evaluation10000_r5_N91}}\\
  \caption{Obtained solution sets for the three-objective inverted DTLZ1 problem by SMS-EMOA 
  with different specifications of the reference point $r$. 
  The population size is 91 ($H = 12$) and the stopping condition is 20,000 solution evaluations. 
  }
  \label{dm1}
\end{figure}

% ----------------------------------- dynamic mechanism ------------------------------------
% 在算法运行的不同时期 early stage；final stage， 为了不同的目的，
% （early stage是convergence， final stage是diversity） r应该设置成不同的值【我的本科毕设和hisao】
% 即 r value 应该是随着算法的进行dynamically设置成不同的值。 
%
% unfortunately 对r的研究太少了, 因为在 benchmark问题上， 特别是正三角 r对PF上的解的影响很小
% 但是实际上 在一些问题上 最后PF上解的分布情况是对r很敏感的【hisao paper里的倒三角和最近点问题】
% 
% \section{Exploration on Reference Point Specification Mechanism in Detail}
Very roughly speaking, multi-objective evolution by EMOAs can be divided into the following
two stages:
\subsubsection{Early Stage} In this stage, 
all solutions are far away from the Pareto front.
The main task is to converge the solutions to the Pareto front.
We also call this stage the convergence stage.
\subsubsection{Final Stage} In this stage,
all solutions are on or near the Pareto front. 
So the main task is to distribute the solutions more evenly on the Pareto front.
We also call this stage the diversification stage.

% ------------------sub-------------- dynamic mechanism ----------------------------------
% --------------- reference point specification for better searching behavior ------------
% hisao指出如果一直用1+1/H， 在convergence阶段会有不好的 search behavior，因为
% specify 1+1/H in each generation, 在 early generations
% the estimated ideal and nadir points from the nondominated
% solutions in each generation 离PF太远。
% 因此 对于normalization based on the estimated ideal and nadir points 
% often has unexpected bad effects on the search behavior
%
% in early generations， a slightly larger r is suggested in 【hisao和我的本科毕设】
% 大一点的r能够加快convergence 用NHV试试 log(HV)
% （加图 相同的evaluation 一直optimal和一直2 一直2会快点收敛 一个HV 一个NHV， 
% HV表示最后hv差，NHV表示较快到达前沿）
% （图 r越大，收敛越快，从三维开始 画出hv变化斜率图）
% 
\subsection{Specify the Value of $r$ for Better Searching Behavior}
Fig. \ref{nud} shows obtained solution sets by SMS-EMOA with different specifications of $r$ on the ten-objective DTLZ2 problem. 
It can be observed that, when $r$ is set to 2, the solutions for the first six dimensions in Fig. \ref{nud} (b) are all 0. 
This phenomenon shows that the breadth-diversity\cite{DtA} in Fig. \ref{nud} (b) is worse than that in Fig. \ref{nud} (a),
although $r=2$ is the suggested value for $r$ in this experimental setting. 

If we set $r = 1+1/H$ at the early stage of the algorithm, the exploration of solutions will be poor. 
So, a larger value of $r$ than $1+1/H$ is suggested in the early stage \cite{hisao:dynamic}. 
% In the early stage of the algorithm, the solution set is not close to the PF, which makes the 
% estimated ideal and nadir points calculated by the current solutions 
% far away from the true ideal and nadir points. 
% And considering the problems with 10 objectives, 
% if the external solutions have the same HV contribution with the inner solutions, 
% the exploration of solutions will be poor. 
% As a result, some dimensionalities of solutions will be missing and the breadth-diversity\cite{DtA} will be poor. 
% An example is given in Fig. \ref{nud}. 
\begin{figure}[!t]
  \centering
  \subfloat[$r=10$.]{\label{nud:a}
    \includegraphics[width=1.5in]{SMSEMOA_DTLZ2_e10000_r10}}\quad
  \subfloat[$r=2$ (Suggested \cite{hisao:RPhowtoSpecify}).]{\label{nud:b}
    \includegraphics[width=1.5in]{SMSEMOA_optimal_DTLZ2_e10000}}\\
  \caption{Obtained solution sets for the ten-objective DTLZ2 problem by SMS-EMOA 
  with different specifications of the reference point $r$. The population size is 30 ($H = 1$) and the stopping condition is 10,000 solution evaluations. 
  }
  \label{nud}
\end{figure} 
% The first 6 dimensionalities are all 0 for the solutions obtained by SMS-EMOA on 10-objective DTLZ2 problems (Fig. \ref{nud:b}). 
% In \cite{hisao:dynamic}, a larger value of $r$ than $1+1/H$ is suggested in the early stage. 

\subsection{Specify the Value of $r$ for Uniform Distribution}
When the algorithm reaches the final stage of the algorithm, all solutions are near the Pareto front. 
To get a uniform solution distribution, $r$ should be specified as $1+1/H$, as in Eq. (\ref{eod}). 
% That is, $r(T)=1+1/H$. 
For problems with inverted-triangular Pareto fronts, the distribution of obtained solutions 
strongly depends on the value of $r$ (as shown in Fig. \ref{dm1}). 

Strong sensitivity of the distribution of obtained solutions on the value of $r$ is also observed on some other problems 
(e.g., Distance Minimization Problems\cite{dmp}). 
This observation suggests the potential usefulness of the dynamic reference point specification\cite{hisao:dynamic}.

\section{Dynamic Reference Point Specification Mechanism}
Since a different stage of multi-objective evolution has a different purpose, the value of $r$ should be treated differently in each stage\cite{hisao:dynamic}. 
Not only the estimated nadir point but also the value of $r$ 
needs to be adapted in each iteration of the algorithm. 
This is called dynamic reference point specification. 
Based on Eq. (\ref{frpa1}), 
we define the dynamic reference point specification as:
\begin{equation}\label{f2}
  \boldsymbol R = r(t) \cdot \boldsymbol N, \quad
  t=0,1,\dots,T,
\end{equation}
where $T$ is the total number of generations, and $r(t)$ is a function of the current generation $t$.
The value of $r$ is specified by $r(t)$. 

% But unfortunately, there is no best mechanism on how to specify the value of $r$ dynamically
% that outperforming the others in all problems and all experiment settings. One mechanism may be the best
% when working on some specific experiment conditions, but may not be good on other conditions. 

% ------------------------- linearly decrease mechanism --------------------------
% so r从2到1+1/H 很必要 之前介绍过 但是怎么变化 没有一个特别好的idea outperform the others
% hisao的paper，提到一种linearly decrease 机制 就是从2到1+1/H线性下降 这是一种简单又实用的idea
% 图在下一个section画。
% 接下来本文介绍一种基于weak convergence detection criterion, 在一些限制条件下outperform线性机制。
% 
\subsection{Linearly Decreasing Mechanism Proposed in \cite{hisao:dynamic}} 
Based on the description above, $r$ is suggested to be specified dynamically at different stages of
the algorithm (at the early stage, a larger $r$ is specified; at the final stage, $r=1+1/H$ is specified).

In \cite{hisao:dynamic}, a linearly decreasing mechanism has been proposed:
\begin{equation}\label{eldm1}
  r(t)=r_{Initial}\frac{(T-t)}{T}+(1+1/H)\frac{t}{T}, \quad t=0,1,\dots,T,
\end{equation}
where $T$ is the total number of generations, and $r_{Initial}$ is the initial value of $r$,
which is larger than $1+1/H$. 
It is a simple and practical mechanism. In Eq. (\ref{eldm1}), the value of $r$ starts from $r_{Initial}$,
then gradually decreases to the suggested value in a linearly decreasing manner. 

In the next section, another dynamic mechanism based on weak convergence detection criterion is proposed. 
We show that it outperforms the simple linearly decreasing mechanism on some test problems. 

% -------------------------------- new dynamic mechanism ------------------------------------
% 本文介绍一种基于weak convergence detection criterion的 new mechanism
% 当 检测到convergence 就把r从2变成optimal 
% （画 r 随 evaluation变化图 就是z字型那个 和线性机制一起画）
% 
\subsection{A New Dynamic Reference Point Specification Mechanism}
In this section,
we introduce a new mechanism that uses a weak convergence detection criterion to 
decide the timing of changing the value of $r$ from $r_{Initial}$ to $1+1/H$. 

As we have explained before, 
a larger $r$ is suggested at the early stage of the algorithm. 
But for good uniformity at the final stage,
it is needed to set $r$ to its suggested value $1+1/H$. 
For this purpose, it is necessary to detect whether the algorithm is converged. 
If solutions are all close to the Pareto front, 
we change the value of $r$ to $1+1/H$; otherwise, we set the value of $r$ to 
$r_{Initial}$. The mechanism is shown below:
\begin{equation}\label{endm1}
  r(t)=
  \begin{cases}
    r_{Initial}, \quad t<t_{Converged},\\
    1+1/H, \quad t \ge t_{Converged}, 
  \end{cases} 
  t=0,1,\dots,T.
\end{equation}
$r(t)$ equals to $r_{Initial}$ before reaching the converged generation $t_{Converged}$, 
and changes to $1+1/H$ after $t_{Converged}$. 
$t_{Converged}$ is determined by a weak convergence detection criterion. 

% ---------------sub-------------- new dynamic mechanism ------------------------------------
% ----------------------------- weak convergence detection ----------------------------------
% consider some convergence detection paper【各种 convergence detection paper】
% convergence detection一般用各种各样的indicator【各种paper】
% 总结特点：用indicator list的太花时间；精确的收敛检测
%
% 准则：
% convergence detection 不应该花太多时间，并不需要太准  用 subsubsection
% 需要寻找一种不需要花太多计算量的 weak criterion
% 【一些paper】indicator based algorithm用indicator
% for us，it seems to be a good idea to use HV 作为indicator，however
% 但是程序运行过程中 hv的reference point 一直在变，所以不同generations没有可比性
% （画一张算法运行过程中用的hv的图）
%
% estimated nadir point 会越来越接近PF， 并且当solutions reach to PF后 NaidrP stagnation
% (画 HV和bsf ln(nadir point) mean的图 最好用MaF1的 可能平滑些)表示它们同时期变化。 
% good idea to use ln(nadir point) mean作为判断解是否reach to PF 的 indicator
% 一篇论文（Introducing a Robust and Efficient Stopping Criterion for MOEAs）实现了
% the Least Squares Stopping Criterion for convergence detection 
% when indicator has reached a stagnation situation, stop
% 用一种简单并且直观SIMPLE INTUITIVE 的方式 就是剩余价值和线性回归斜率 below thresholds
% 介绍机制 线性计算公式
% 画上图（ln np mean）的b随evaluation变化图
% for nadir point, 经过我们的实验 10^-5是个好threshold
%
Various indicators including convergence detection indicators which are used to detect the stagnation of the algorithm 
have been proposed in the literature\cite{convergenceDetection:1, convergenceDetection:LSSC, 
convergenceDetection:OCD, convergenceDetection:OFCDandOCD, convergenceDetection:convergenceMetric, 
convergenceDetection:maxCD, convergenceDetection:online}. 
They focus on accurately detecting the convergence, which is not the purpose in our approach.
After algorithm converged, we still need some generations in order to
get uniformly distributed solutions. 
We summarize the required conditions for our weak convergence detection criterion as follow:
\subsubsection{Moderately accurate} It is not necessary to have a very accurate convergence detection. 
The convergence can be reported if all of the current solutions are close to the Pareto front.
In other words, the estimated ideal and nadir points based on the current solutions
are close to the true ideal and nadir points. 
\subsubsection{Computationally efficient} We should not spend too much time on convergence detection. 
The state-of-the-art HV-based algorithms (e.g., SMS-EMOA and HypE) 
are time-consuming when the dimension of the objective space is very high. 

% We are discussing the effect of reference points in calculating HV. 
HV is not a good choice as our weak convergence detection indicator. 
The reason is that during the execution of the algorithm, the reference point is calculated by Eq. (\ref{frpa1}), 
which means that they are different over generations. 
So, we cannot simply compare calculated HV values at different generations. 

We should consider other indicators that satisfy the above-mentioned two conditions. 
During the execution of the algorithm, the HV of the current population increases 
while the estimated nadir point from the current population is gradually approaching the Pareto front. 
The estimated nadir point can be a good choice for our purpose. 
More specifically,
for a minimization problem, we consider the following indicator $I$:
\begin{equation}\begin{aligned}\label{ewcd1}
  \boldsymbol{N_{t}} &= [f_{t1},f_{t2},\dots,f_{tm}]^\top \in \mathbb{R}^m ,\\
  I_{0} &= \frac{1}{m} \sum_{i=1}^{m}lnf_{0i},\\
  I_{t} &= min(I_{t-1},\frac{1}{m} \sum_{i=1}^{m}lnf_{ti}), \quad
  t = 1,2,\dots,T,
\end{aligned}
\end{equation}
where $T$ is the total number of generations, 
$\boldsymbol{N_{t}}$ is the estimated nadir point at the $t^{th}$ generation with $m$ elements: $f_{t1},f_{t2},\dots,f_{tm}$. 
$I_0$ is the average logarithmic element value of the nadir point calculated from the initial population.
$I_t$ is the minimum value of $I$ before the $t^{th}$ generation (including the $t^{th}$ generation). 
Fig. \ref{wcd1} shows the HV values and the indicator $I$ values over the execution of SMS-EMOA 
on the three-objective inverted-DTLZ1 problem. 
The fixed nadir point based on the true nadir point is used for HV calculation in this figure for illustration purposes: $\boldsymbol R = (0.55, 0.55, 0.55)$.
When the current solutions are close to the Pareto front, the estimated nadir point of the
current solutions is close to the true nadir point. 
\begin{figure}[!t]
  \centering
    \includegraphics[width=\columnwidth]{FVEMOA_IDTLZ1_M3_nadir_1}
  \caption{
  Illustration of the convergence detection for a run of SMS-EMOA on the three-objective inverted-DTLZ1 problem.
  The fixed reference point $\boldsymbol R = (0.55, 0.55, 0.55)$ is used for HV calculation in this figure.
  }
  \label{wcd1}
\end{figure}
% This implies that the estimated nadir point can be a good indicator for our purpose. 
% But for some problems with a large feasible region, 
% the moving distance of the estimated nadir point in the early generations is larger than that near convergence.
% So we consider the logarithm. And considering the possible bad variance of the indicator, 
% finally, we use the best logarithmic nadir point so-far as our indicator. 

After choosing the indicator, the next step is to detect the stagnation of the indicator.
We use a basic linear regression method called Simple Least Squares\cite{SimpleLeastSquares} with a
simple least squares convergence detection strategy introduced in \cite{convergenceDetection:LSSC}.
If the absolute value of the slope of the linear regression is below a threshold, the convergence is reported.
Briefly speaking, considering a simple linear regression model $I(t)=a+bt$, 
the intercept $a$ and slope $b$ of the $t^{th}$ generation can be calculated 
with the following matrix-based formula:
\begin{equation}\begin{aligned}\label{elr1}
  \left[
    \begin{matrix}
      a \\
      b
    \end{matrix}
  \right]
  &= 
  \left[
    \begin{matrix}
      \Sigma t_i^2 & \Sigma t_i \\
      \Sigma t_i   & w\_l 
    \end{matrix}
  \right]^{-1}
  *
  \left[
    \begin{matrix}
      \Sigma t_i I_{t_i} \\
      \Sigma I_{t_i} 
    \end{matrix}
  \right], \\
  % t_i &\in (t',t], t - t' = w_l,
\end{aligned}
\end{equation}
where $w\_ l$ is the length of the chosen time window
(in the example of Fig. \ref{wcd1}, the chosen time window is represented with the red dotted line), 
and $t_i$ is the time index in the chosen time window, $t_i \in (t',t], t - t' = w_l$.
% The symbol $*$ is the matrix product of two matrixes. 
The absolute value of slope $b$ is shown in Fig. \ref{wcd2} 
(Note that in the first $w\_ l$ evaluations is 0, 
and we should not consider the first $w\_ l$ evaluations). 
\begin{figure}[!t]
  \centering
    \includegraphics[width=\columnwidth]{FVEMOA_IDTLZ1_M3_nadir_2}
  \caption{Values of $\lvert b\rvert$ for the three-objective inverted-DTLZ1
  (the window size $w\_l$ is 4,000 and the population size $\mu$ is 100).
  The green dotted line shows the threshold $10^{-5}$. 
  }
  \label{wcd2}
\end{figure}

Using Eq. (\ref{elr1}), we report the convergence of the algorithm if the following
condition holds:
\begin{equation}\label{elr2}
  \lvert b \rvert < thres. 
\end{equation}
The choice of the threshold value $thres$ does not have a strong effect on the performance 
of the proposed HV-based algorithm since the accuracy of the convergence detection is not very important.
We choose $thres$ value as $10^{-5}$ after some computational experiments with 
the window size $w\_ l$ of 4,000. 
The whole process of the weak convergence detection is described in Algorithm \ref{alg:wcd}. 
If Algorithm \ref{alg:wcd} returns True, we report the convergence. 
The value of the converged generation $t_{Converged}$ equals to $t$ (i.e., the current evaluation number) 
when the convergence is detected. 

\begin{algorithm}
  \caption{Weak Convergence Detection}
  \label{alg:wcd}
  \begin{algorithmic}
  \REQUIRE ~~\\
    $w\_l$, $//$ Window size.\\
    $\boldsymbol{S_{t}}$, $//$ Solution set when evaluaiton number is $t$.\\
    $\boldsymbol I = \{I_{0},I_{1},\dots,I_{t-1}\}$, $//$ Stored indicator values. \\
    $thres$, $//$ The chosen threshold for slope. \\ 
  \ENSURE Return True if converged, otherwise return False.~~\\
    Calculate nadir point $\boldsymbol{N_{t}}$ of $\boldsymbol{S_{t}}$; \\
    Calculate indicator $I_{t}$; $//$ By Eq. (\ref{ewcd1}). \\
    $\boldsymbol I \gets \boldsymbol I \cup \{I_{t}\}$; \\
    \IF{$t \ge w\_l$} 
    \STATE Calculate $b$; $//$ By Eq. (\ref{elr1}).
      \IF{$\lvert b\rvert < thres$}
      \STATE Return True; $//$ Converged.
      \ENDIF
    \ENDIF
    \STATE Return False; $//$ Not converged.
  \end{algorithmic}
\end{algorithm}
% -------------------------------- Computational Experiments ------------------------------------
% 为了直观的表现dynamic reference point adaptation的优势，
% 算法 sets 我们选用了什么，简单介绍
% 我们选用了test problem：DTLZ1， C1_DTLZ1，IDTLZ1，MaF1 分别介绍
% 维度选择了 3，5，8，10维 为了表现在multi 和 many上的不同
% 
% compare this mechanism with the linearly decrease mechanism
% 
% 要验证 10^-5 是不是一个好的threshold 画出不同维度 当检测到收敛的solutions图，确认检测到不变的时候确实收敛
%
\section{Computational Experiments}
\subsection{Experimental Settings}
In this section, the two different dynamic reference point specification mechanisms 
(i.e., the linearly decreasing mechanism and the weak convergence detection mechanism) 
are tested by combining each of them into SMS-EMOA\cite{smsemoa}. 
The DTLZ test suite\cite{DTLZ}, WFG test suite\cite{WFG}, 
their minus-versions\cite{minusTestProblem}, 
and Multi-Point Distance Minimization Problems (MPDMP)\cite{dmp} are used in our computational experiments. 
The number of objectives ($m$) is specified as 10 in all test problems. 
The number of decision variables ($D$) is specified for each test problem as follows: 

14 (DTLZ1 and minus-DTLZ1),

2 (MPDMP),

19 (other problems).

All codes in this section are implemented in PlatEMO framework\cite{PlatEMO}
with the following settings: 

Population size: 30 ($H=1$), 

Stopping condition: 100,000 solution evaluations, 

% Initial value of $r$ $(r_{Initial})$: 10, 

Crossover: Simulated binary crossover, 

Crossover probability: 1.0,

Mutation: Polynomial mutation, 

Mutation probability: 1/D, 

Distribution index of Crossover and Mutation: 20, 

Number of runs: 20 runs.

% ---------------sub-------------- Computational Experiments ------------------------------------
% ----------------------------- Computational Results ----------------------------------
% 
\subsection{Computational Results}

\begin{table*}[!t]\footnotesize
  \renewcommand{\arraystretch}{1.3}
  \caption{Mean HV and standard deviation over 20 independent runs for DTLZ and WFG test problems.}
  \label{table_tri}
  \centering
  \begin{tabular}{ccccccc}
    \toprule
    Problem&$M$&$D$&SMS-EMOA-10&SMS-EMOA-Opt&SMS-EMOA-LD&SMS-EMOA-CD\\ 
    \midrule
    \multirow{1}{*}{DTLZ1}&10&14&6.8448e-1 (4.61e-1) $\approx$&\hl{2.0261e-1 (2.23e-1) $-$}&\semitextbf{8.8369e-1 (2.00e-1) $\approx$}&6.9062e-1 (3.95e-1)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{DTLZ2}&10&19&\semitextbf{1.0234e+3 (4.72e-1) $\approx$}&\hl{9.9315e+2 (3.94e+1) $-$}&1.0234e+3 (7.28e-1) $\approx$&1.0184e+3 (1.85e+1)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{DTLZ3}&10&19&\hl{0.0000e+0 (0.00e+0) $\approx$}&\semitextbf{1.9068e+1 (8.53e+1) $\approx$}&0.0000e+0 (0.00e+0) $\approx$&0.0000e+0 (0.00e+0)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{DTLZ4}&10&19&\semitextbf{8.0029e+2 (2.21e+2) $\approx$}&\hl{5.2691e+2 (1.79e+2) $-$}&6.6262e+2 (2.17e+2) $\approx$&7.2840e+2 (2.26e+2)\\
    \midrule
    \multirow{1}{*}{WFG1}&10&19&2.2025e+12 (2.55e+11) $\approx$&2.2597e+12 (2.64e+11) $\approx$&\hl{2.2005e+12 (1.81e+11) $\approx$}&\semitextbf{2.2601e+12 (3.42e+11)}\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{WFG2}&10&19&\semitextbf{3.3604e+12 (2.92e+10) $\approx$}&3.3493e+12 (2.39e+10) $+$&3.3487e+12 (7.64e+10) $\approx$&\hl{3.3420e+12 (8.46e+10)}\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{WFG3}&10&19&\hl{4.7217e-3 (1.04e-2) $-$}&\semitextbf{2.5310e-2 (3.07e-2) $\approx$}&1.7230e-2 (2.35e-2) $\approx$&2.3443e-2 (2.84e-2)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{WFG4}&10&19&3.7667e+12 (1.77e+10) $\approx$&\hl{3.5602e+12 (9.48e+10) $-$}&3.7585e+12 (3.74e+10) $\approx$&\semitextbf{3.7737e+12 (1.63e+10)}\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{WFG5}&10&19&3.6535e+12 (7.68e+9) $\approx$&\hl{3.5027e+12 (1.16e+11) $-$}&\semitextbf{3.6555e+12 (8.64e+9) $\approx$}&3.6523e+12 (1.93e+10)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{WFG6}&10&19&3.6082e+12 (7.78e+10) $\approx$&\hl{3.5432e+12 (6.24e+10) $-$}&3.5829e+12 (5.75e+10) $\approx$&\semitextbf{3.6099e+12 (4.49e+10)}\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{WFG7}&10&19&\semitextbf{3.7967e+12 (7.58e+9) $\approx$}&\hl{3.7326e+12 (5.73e+10) $-$}&3.7959e+12 (1.35e+10) $\approx$&3.7922e+12 (1.27e+10)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{WFG8}&10&19&3.7512e+12 (1.51e+10) $\approx$&\hl{3.7087e+12 (3.64e+10) $-$}&\semitextbf{3.7613e+12 (1.13e+10) $+$}&3.7524e+12 (1.23e+10)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{WFG9}&10&19&3.5727e+12 (1.85e+11) $\approx$&\hl{3.3072e+12 (2.80e+11) $-$}&\semitextbf{3.6302e+12 (1.57e+11) $+$}&3.5146e+12 (2.31e+11)\\
    \midrule
    \multicolumn{3}{c}{$+/-/\approx$}&0/1/12&1/9/3&2/0/11&\\
    \bottomrule
    \hspace {2em}
    \end{tabular}
\end{table*}
\begin{table*}[!t]\footnotesize
  \renewcommand{\arraystretch}{1.3}
  \caption{Mean HV and standard deviation over 20 independent runs for minus-DTLZ, minus-WFG and MPDMP.} %加粗是好，灰色是坏
  \label{table_itri}
  \centering
  \begin{tabular}{ccccccc}
    \toprule
    Problem&$M$&$D$&SMS-EMOA-10&SMS-EMOA-Opt&SMS-EMOA-LD&SMS-EMOA-CD\\ 
    \midrule
    \multirow{1}{*}{minus-DTLZ1}&10&14&4.3889e+28 (5.56e+26) $\approx$&\semitextbf{4.4237e+28 (5.99e+26) $\approx$}&4.4120e+28 (4.79e+26) $\approx$&\hl{4.3872e+28 (7.72e+26)}\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{minus-DTLZ2}&10&19&\hl{1.2299e+7 (1.38e+5) $-$}&1.4737e+7 (1.55e+5) $-$&\semitextbf{1.4891e+7 (1.11e+5) $\approx$}&1.4844e+7 (1.45e+5)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{minus-DTLZ3}&10&19&\hl{1.1227e+35 (3.16e+33) $-$}&1.3385e+35 (3.41e+33) $\approx$&\semitextbf{1.3702e+35 (3.42e+33) $\approx$}&1.3582e+35 (3.78e+33)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{minus-DTLZ4}&10&19&\hl{1.1638e+7 (2.11e+5) $-$}&\semitextbf{1.4899e+7 (1.20e+5) $+$}&1.4895e+7 (1.27e+5) $+$&1.3585e+7 (1.57e+6)\\
    \midrule
    \multirow{1}{*}{minus-WFG1}&10&19&4.4808e+10 (5.25e+8) $\approx$&\semitextbf{4.4894e+10 (4.81e+8) $\approx$}&4.4890e+10 (4.35e+8) $\approx$&\hl{4.4705e+10 (5.60e+8)}\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{minus-WFG2}&10&19&\hl{6.6225e+10 (1.05e+8) $-$}&6.7628e+10 (7.51e+8) $\approx$&6.7870e+10 (3.31e+7) $-$&\semitextbf{6.7907e+10 (1.60e+7)}\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{minus-WFG3}&10&19&\hl{6.3620e+10 (5.49e+8) $\approx$}&\semitextbf{6.4321e+10 (2.29e+8) $+$}&6.3642e+10 (4.93e+8) $\approx$&6.3799e+10 (5.87e+8)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{minus-WFG4}&10&19&\hl{1.6478e+11 (3.22e+9) $-$}&\semitextbf{1.9896e+11 (2.20e+9) $\approx$}&1.9752e+11 (2.39e+9) $\approx$&1.9260e+11 (1.34e+10)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{minus-WFG5}&10&19&\hl{1.6534e+11 (2.09e+9) $-$}&1.9817e+11 (1.82e+9) $\approx$&\semitextbf{1.9897e+11 (1.93e+9) $\approx$}&1.9819e+11 (1.40e+9)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{minus-WFG6}&10&19&\hl{1.6532e+11 (2.11e+9) $-$}&1.9865e+11 (1.83e+9) $\approx$&\semitextbf{1.9989e+11 (2.03e+9) $\approx$}&1.9960e+11 (1.94e+9)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{minus-WFG7}&10&19&\hl{1.6534e+11 (2.88e+9) $-$}&1.9870e+11 (1.30e+9) $-$&\semitextbf{1.9978e+11 (2.21e+9) $\approx$}&1.9937e+11 (2.97e+9)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{minus-WFG8}&10&19&\hl{1.6808e+11 (1.46e+9) $-$}&1.9932e+11 (1.56e+9) $-$&\semitextbf{2.0220e+11 (1.71e+9) $+$}&2.0065e+11 (1.77e+9)\\
    % \specialrule{0em}{1pt}{1pt}
    \multirow{1}{*}{minus-WFG9}&10&19&\hl{1.6415e+11 (3.16e+9) $-$}&1.9777e+11 (2.21e+9) $\approx$&1.9557e+11 (2.17e+9) $-$&\semitextbf{1.9852e+11 (1.86e+9)}\\
    \midrule
    \multirow{1}{*}{MPDMP}&10&2&\hl{1.4848e+5 (2.50e+2) $-$}&1.5051e+5 (3.10e+2) $-$&1.5017e+5 (1.98e+2) $-$&\semitextbf{1.5097e+5 (1.64e+2)}\\
    \midrule
    \multicolumn{3}{c}{$+/-/\approx$}&0/11/3&2/4/8&2/3/9&\\
    \bottomrule
  \end{tabular}
\end{table*}

In our experiments, four versions of SMS-EMOA with different reference point specification mechanisms are considered. 
These algorithms are named as SMS-EMOA-10, SMS-EMOA-Opt, SMS-EMOA-LD, and SMS-EMOA-CD. 
For SMS-EMOA-10, the value of $r$ is set to 10. 
The value of $r$ for SMS-EMOA-Opt is set to $r=1+1/H$ (Here $H=1$). 
SMS-EMOA with the linearly decreasing mechanism and with the weak convergence detection mechanism are referred to as SMS-EMOA-LD and SMS-EMOA-CD, respectively. 
In both of the two specification methods, the initial value of $r$ $(r_{Initial})$ is 10, and its final value is $1+1/H$ (Here $H=1$). 
The average HV value is calculated over 20 runs of each algorithm on each test problem under the stopping condition of 100,000 solution evaluations. 
The reference point is specified as 2 times the true nadir point for HV performance comparison.
Table \ref{table_tri} and Table \ref{table_itri} show HV-based comparison results. 
The best result in each row is highlighted in bold, and the worst result is shaded. 
The Wilcoxon rank sum test is used to show the statistical significance for SMS-EMOA-10, SMS-EMOS-Opt, SMS-EMOA-LD in comparison with the proposed SMS-EMOA-CD. 
The three symbols ``$+$'', ``$-$'', ``$\approx$'' mean significantly better, significantly worse and no significant difference. 

Table \ref{table_tri} shows that SMS-EMOA-Opt performs the worst (significantly worse than SMS-EMOA-CD for 9 out of the 13 test problems) among the compared algorithms. 
This observation suggests that the use of $r = 1 + 1/H$ throughout the execution of SMS-EMOA is not a good idea. 
We cannot tell the differences between SMS-EMOA-10 and SMS-EMOA-CD.
The Wilcoxon rank sum tests show that almost all the results are ``$\approx$''. 
This is because that the location of the reference point has no influence on the optimal distribution of solutions for HV maximization when Pareto fronts are triangular 
and the reference point is not too close to the Pareto front. 
For two test problems (WFG8 and WFG9), better results are obtained from SMS-EMOA-LD than SMS-EMOA-CD. 
For all the other test problems, these two algorithms have no statistically significant differences.
These observations suggest that SMS-EMOA-LD is slightly better than SMS-EMOA-CD on test problems with triangular Pareto fronts. 

Table \ref{table_itri} shows HV-based performance comparison results on test problems with inverted-triangular Pareto front
(i.e., minus-DTLZ1-4, minus-WFG1-9, and MPDMP). 
In Table \ref{table_itri}, SMS-EMOA-10 performs the worst on most test problems (12 out of the 14 test problems).
The Wilcoxon rank sum tests show that SMS-EMOA-10 is significantly outperformed by SMS-EMOA-CD on 11 out of the 14 test problems.
This result can be explained by the setting of $r$. Since the value of $r$ is set to 10 in SMS-EMOA-10, many solutions are on the boundary of the triangular Pareto fronts. 
In Table \ref{table_itri}, it seems that the other three algorithms (SMS-EMOA-Opt, SMS-EMOA-LD and SMS-EMOA-CD) have almost the same performance on the test problems with inverted-triangular
Pareto front. The results of MPDMP shows that
SMS-EMOA-CD is the best among the four algorithms. 

\begin{figure}[!t]
  \centering
    \includegraphics[width=\columnwidth]{SMSEMOA_MPDMP_hv_2}
  \caption{Average HV values by the four algorithms on the ten-objective Multi-Point Distance Minimization Problem (MPDMP).
  }
  \label{crdmp}
\end{figure}

Fig. \ref{crdmp} shows the average HV values for the four algorithms on the ten-objective MPDMP problem. 
In Fig. \ref{crdmp}, the HV value by SMS-EMOA-LD (the red curve) gradually increases and finally reaches the same level as SMS-EMOA-Opt. 
This is because the value of $r$ is gradually decreased to $1+1/H$. 
The HV value by SMS-EMOA-CD (the yellow curve) reaches a stable level similar to SMS-EMOA-10. 
This is because the value of $r$ in these two algorithms is 10 for about 4,500 evaluations. 
The convergence detection is reported after about 4,500 evaluations in each of the 20 runs of SMS-EMOA-CD. 
Then, the value of $r$ in SMS-EMOA-CD is changed to $1+1/H$. After this change, the HV value quickly increases. 
This quick increase of the HV value is due to the increase of inner solutions (and the decrease of boundary solutions).
Finally, the HV value by SMS-EMOA-CD is better than SMS-EMOA-10, SMS-EMOA-Opt and SMS-EMOA-LD after 10,000 solution evaluations. 

% ---------------sub-------------- Computational Experiments ------------------------------------
% ----------------------------- The Importance of Dynamic Mechanism ----------------------------------
% 
% \subsection{The Importance of Using Dynamic Mechanism}
% We plot the final solutions distributions of some experiments including DTLZ4 and minus-DTLZ4 
% in 3-dimension (as shown in Fig. \ref{iudm1}) and in 5-dimension (as shown in Fig. \ref{iudm2}).
% The solutions distributions of Fig. \ref{iudm1:a} - \ref{iudm1:c} hint that 
% the FVEMOA do not have good performance on concave pareto front problems. 
% In Fig. \ref{iudm1:d}, the solutions are poor distributed comparing with Fig. \ref{iudm1:a}-\ref{iudm1:c}.
% This phenomenon is also observed in Fig. \ref{iudm2:d}.
% \begin{figure}[!t]
%   \centering
%   \subfloat[FV-EMOA-2]{\label{iudm1:a}
%     \includegraphics[width=1.5in]{FVEMOA_DTLZ4_3}}\quad
%   \subfloat[FV-EMOA-LD]{\label{iudm1:b}
%     \includegraphics[width=1.5in]{FVEMOA_DR_DTLZ4_3}}\\
%   \subfloat[FV-EMOA-CD]{\label{iudm1:c}
%     \includegraphics[width=1.5in]{FVEMOA_DR2_DTLZ4_3}}\quad
%   \subfloat[FV-EMOA-Opt]{\label{iudm1:d}
%     \includegraphics[width=1.5in]{FVEMOA_optimal_DTLZ4_3}}\\
%   \caption{
%     The final distribution of 4 reference point strategies on 3-dimensional DTLZ4 problems.
%   }
%   \label{iudm1}
% \end{figure} 
% \begin{figure}[!t]
%   \centering
%   \subfloat[FV-EMOA-2]{\label{iudm2:a}
%     \includegraphics[width=1.5in]{FVEMOA_DTLZ4_5}}\quad
%   \subfloat[FV-EMOA-LD]{\label{iudm2:b}
%     \includegraphics[width=1.5in]{FVEMOA_DR_DTLZ4_5}}\\
%   \subfloat[FV-EMOA-CD]{\label{iudm2:c}
%     \includegraphics[width=1.5in]{FVEMOA_DR2_DTLZ4_5}}\quad
%   \subfloat[FV-EMOA-Opt]{\label{iudm2:d}
%     \includegraphics[width=1.5in]{FVEMOA_optimal_DTLZ4_5}}\\
%   \caption{
%     The final distribution of 4 reference point strategies on 5-dimensional DTLZ4 problems.
%   }
%   \label{iudm2}
% \end{figure} 
% The standard deviations of FV-EMOA-Opt on the DTLZ4 problem (shown in the TABLE \ref{table_tri}) are both higher
% than other three algorithms in 3- and 5-dimension($2.14e-1$  comparing with $1.21e-1, 1.31e-1, 1.76e-1$ in 3-dimension 
% and $1.01e-1$ comparing with $9.98e-2, 7.21e-2, 6.05e-2$ in 5-dimension).
% This observation also shows that the solutions distributions of some runs in FV-EMOA-Opt are poor over the total 20 runs.

% In FV-EMOA-Opt, the algorithm applies $r_{Initial} = 1+1/H$ mechanism at the early stage of algorithm 
% while other three algorithms apply $r_{Initial} = 2$.
% Even though the $r_{final}$ of FV-EMOA-LD, FV-EMOA-CD and FV-EMOA-Opt are all equal to $1+1/H$, 
% FV-EMOA-Opt can not jump out from the local minimum and estimate the pareto front well 
% due to the pool searching behavior at the early stage. 

% The above examples clearly show the importance of using dynamic mechanism, 
% that a slightly larger $r$ than $1+1/H$ can make the algorithm with a better searching behavior in 
% convergence stage where the solutions have not reached to the pareto front 
% especially for the problems which are difficult to find the whole solutions space like the DTLZ4 problem. 

% ---------------sub-------------- Computational Experiments ------------------------------------
% ----------------------------- comparison of two dynamic mechanisms ----------------------------------
% 2种机制比较
% 当evaluation足够的时候，差不多
% feasible region 大， evaluation不太够时但过了convergence点时 我的好
% rinit = 10
%
% \subsection{Comparison of Two Dynamic Mechanisms}
% We want to further investigate the differences between two dynamic mechanisms 
% (the linearly decrease mechanism and the weak convergence detection mechanism). 
% Here are the examples of the final distribution on the MaF1 problem(as shown in Fig. \ref{ctdm}).
% The total evaluation number is set to $3500$ and the convergence is detected at $3400$ evaluations. 
% The solutions distribution of FV-EMOA-CD(Fig. \ref{ctdm:c}) is similar to 
% the that of FV-EMOA-Opt(Fig. \ref{ctdm:d})
% while there are still overmany solutions on the boundary of pareto front in FV-EMOA-LD(Fig. \ref{ctdm:b}). 

% The reason is quite intuitionistic.
% In the linearly decrease mechanism, the total evaluation number is so small that it is too late for the solutions 
% to distribute evenly when reaching to the final generation. 
% But in the weak convergence detection mechanism, a convergence is reported after 3400 evaluations and 
% the algorithm still has 100 evaluations to make a good solutions distribution. 
% % conclusion里写
% \begin{figure}[!t]
%   \centering
%   \subfloat[FV-EMOA-2]{\label{ctdm:a}
%     \includegraphics[width=1.5in]{FVEMOA_MaF1_M3_3500_3400convergence}}\quad
%   \subfloat[FV-EMOA-LD]{\label{ctdm:b}
%     \includegraphics[width=1.5in]{FVEMOA_DR_MaF1_M3_3500_3400convergence}}\\
%   \subfloat[FV-EMOA-CD]{\label{ctdm:c}
%     \includegraphics[width=1.5in]{FVEMOA_DR2_MaF1_M3_3500_3400convergence}}\quad
%   \subfloat[FV-EMOA-Opt]{\label{ctdm:d}
%     \includegraphics[width=1.5in]{FVEMOA_optimal_MaF1_M3_3500_3400convergence}}\\
%   \caption{
%     The final distribution of 4 reference point strategies on the MaF1 problem.
%     The results are obtained after $3500$ evaluations($t_{Converged} = 3400$).
%   }
%   \label{ctdm}
% \end{figure} 

\section{Conclusions}

In this paper, first we explain the importance of an appropriate reference point specification 
in SMS-EMOA using a simple example. 
We demonstrate that, without a good reference point specification mechanism, 
well-distributed solutions are not obtained on inverted triangular Pareto fronts. 
This is not observed for triangular Pareto fronts. 
That is, well-distributed solutions are obtained when the reference point is not too close to the triangular Pareto fronts. 

% Next we introduce the dynamic reference point specification mechanism with the illustration by two aspects: 
% \subsubsection{Better Searching Behavior} In the early stage, 
% the solutions may be far away from the true Pareto front. 
% A larger value of $r$ can achieve better searching behavior.  
% We give an example of DTLZ2. 
% \subsubsection{Uniform Distribution} Considering test problems with inverted-triangular Pareto fronts, 
% the optimal setting of the reference point is $r=1+1/H$. 

Next we summarize the basic idea of the dynamic reference point specification mechanism as follows: 
the value of $r$ should be specified larger than $1+1/H$ at the early stage for better searching behavior 
and equal to $1/1+H$ at the final stage to get a uniform solution distribution, as in Eqs. (\ref{f2})-(\ref{endm1}). 

After that, we propose a new dynamic reference point specification mechanism in this paper. 
A weak convergence detection mechanism is used in the proposed method. 
The new dynamic reference point specification mechanism is tested on SMS-EMOA algorithm 
and compared with other SMS-EMOAs under different settings of $r$. 
The results show that SMS-EMOA with $r=1+1/H$ performs the worst on the triangular PF problems, 
and SMS-EMOA with $r=10$ performs the worst on the inverted-triangular PF problems. 
This gives us a hint on the necessary of the dynamic mechanism. 
We have also compared our proposed mechanism with the linearly decreasing mechanism. 
The results show that our new mechanism outperforms the linearly decreasing mechanism on some test problems, 
specifically on the MPDMP. 

In the future, we plan to investigate the behavior of our new mechanism and further improve it. 
The problems with different PF shapes will be tested and analyzed. 

\bibliographystyle{IEEEtran} 
\bibliography{mybibtex} 

\end{document}


